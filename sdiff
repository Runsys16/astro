#!/bin/bash
#-------------------------------------------------------------------------------------------
#
#-------------------------------------------------------------------------------------------
cd /home/rene/programmes/opengl/video/astro
#-------------------------------------------------------------------------------------------
#
#-------------------------------------------------------------------------------------------
case $(uname -n) in
	poste-002)
		POSTE="portable-marie"
		;;
	portable-marie)
		POSTE="poste-002"
		;;
	*)
		echo Erreur nom de poste
		exit 1
		;;
esac
#-----------------------------------------------------------------------------------------
# fonction help()
#-----------------------------------------------------------------------------------------
function help()
{
	cat <<EOF
sdiff  recopie uniquement les fichiers modifiÃ© 

  ./sdiff -e -h -ed
  
  -e                   : affiche la commande sans la lancer
  -ed|ed               : edition
  -h                   : affiche l'aide
  
EOF
}
#-------------------------------------------------------------------------------------------
#
#-------------------------------------------------------------------------------------------
numargs=$#
ECHO=""
for ((i=1 ; i <= numargs ; i++))
do
	arg=$1
	case $arg in
		e|-e)
			ECHO="echo"
			;;
		ed|-ed)
			edition ./sdiff
			exit
			;;
		h|-h)
			help
			exit 0
			;;
		*)
			help
			echo "---------------"
			echo \"$arg\" option inconnue
			exit 1
			;;
	esac
	shift
done
#-------------------------------------------------------------------------------------------
#
#-------------------------------------------------------------------------------------------
$ECHO scp $(git status | grep src | sed -e "s_.*\(src/.*\)_\1_g") rene@$POSTE:$(pwd)/src
$ECHO scp sdiff rene@$POSTE:$(pwd)



